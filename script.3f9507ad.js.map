{"version":3,"sources":["../node_modules/lodash.debounce/index.js","js/DOMRefs.js","js/globalVar.js","js/inputQueryHandler.js","js/night-mode-toggle.js","js/side-menu-item-toggle.js","js/specific-modal-window-handlers.js","js/basic-modal-windows-handler.js","js/modal-image-nav.js","js/gallery-menu-toggle.js","js/gallery-render.js","js/fetchImages.js","js/intersection-observer.js","js/script.js"],"names":["bodyRef","document","querySelector","menuWrapRef","querySelectorAll","galleryPageRef","galleryWrapRef","backdropRef","Array","from","modalAuthRef","modalNavRef","modalImgRef","modalImgWindowRef","modalUploadRef","galleryMenuRef","nightModeSwitch","intersectionAnchorGalleryRef","searchInput","imgFetchOptions","API_KEY","BASE_URL","imgPerPage","currentPage","currentImgArray","query","value","inputQueryHandler","innerHTML","themeLoadHandler","localStorage","getItem","classList","add","checked","nightModeToggle","contains","remove","setItem","sideMenuItemOpen","event","target","targetItem","nextElementSibling","forEach","item","navToggleHandler","toggle","authToggleHandler","uploadToggleHandler","imgToggleHandler","src","dataset","index","openModal","role","currentTarget","modOpenTrigger","backdrop","preventDefault","closeModal","modCloseTrigger","modalImgTriggerHandler","direction","modalImgNav","modalImageNav","indexShift","currentIndex","nextIndex","Number","currentImgQuantity","length","console","log","largeImageURL","galleryMenuToggle","galleryImgRender","imagesObjArray","imgRenderArray","map","el","imgIndex","previewURL","user","insertAdjacentHTML","join","fetchImages","requestURL","fetch","then","responce","json","hits","push","options","root","rootMargin","threshold","infScrollObserver","IntersectionObserver","entries","isIntersecting","modalOpenTriggersRef","modalCloseTriggersRef","menuListItem","sideMenuSwitch","window","addEventListener","observe"],"mappings":"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","file":"script.3f9507ad.js","sourceRoot":"..\\src","sourcesContent":["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","/* -------------------------------------------*/\r\n/* --------------- DOM REFERENCES ------------*/\r\n/* -------------------------------------------*/\r\n\r\nexport {\r\n    bodyRef, menuWrapRef, galleryPageRef, backdropRef, modalAuthRef, modalNavRef,\r\n    modalImgRef, modalImgWindowRef, modalUploadRef, galleryMenuRef, nightModeSwitch,\r\n    intersectionAnchorGalleryRef, searchInput, galleryWrapRef,\r\n};\r\n\r\nconst bodyRef = document.querySelector('body');\r\nconst menuWrapRef = document.querySelectorAll('.menu-item-wrap');\r\nconst galleryPageRef = document.querySelector('.gallery-page');\r\nconst galleryWrapRef = document.querySelector('.gallery-page-wrap');\r\nconst backdropRef = Array.from(document.querySelectorAll('.backdrop'));\r\nconst modalAuthRef = document.querySelector('[data-auth-modal]');\r\nconst modalNavRef = document.querySelector('[data-nav-modal]');\r\nconst modalImgRef = document.querySelector('.modal-image');\r\nconst modalImgWindowRef = document.querySelector('[data-img-modal]');\r\nconst modalUploadRef = document.querySelector('[data-upload-modal]');\r\nconst galleryMenuRef = document.querySelector('.gallery-menu');\r\nconst nightModeSwitch = document.querySelector('.nightMode-checkbox');\r\nconst intersectionAnchorGalleryRef = document.querySelector('.intersection-anchor')\r\nconst searchInput = document.querySelector('.search-input');\r\n\r\n","/* ---------------------------------------------*/\r\n/* --------------- GLOBAL VARIABLES ------------*/\r\n/* ---------------------------------------------*/\r\n\r\nimport { searchInput } from './DOMRefs';\r\nexport { imgFetchOptions };\r\n\r\nconst imgFetchOptions = {\r\n    API_KEY: '20496318-c7af985c6ce4a327e41f45e16',\r\n    BASE_URL: 'https://pixabay.com/api/',\r\n    imgPerPage: 20,\r\n    currentPage: 1,\r\n    currentImgArray: [],\r\n    query: searchInput.value,\r\n}","import { searchInput, galleryPageRef} from './DOMRefs';\r\nimport {imgFetchOptions} from './globalVar';\r\n\r\nexport { inputQueryHandler };\r\n\r\nfunction inputQueryHandler() {\r\n    imgFetchOptions.query = searchInput.value;\r\n    imgFetchOptions.currentImgArray = [];\r\n    imgFetchOptions.currentPage = 1;\r\n    galleryPageRef.innerHTML = '';\r\n}","/* ----------------------------*/\r\n/*  NIGHT MODE TOGGLE FUNCTION */\r\n/* ----------------------------*/\r\nimport { bodyRef, nightModeSwitch } from \"./DOMRefs\";\r\nexport { themeLoadHandler, nightModeToggle };\r\n\r\nfunction themeLoadHandler() {\r\n    switch (localStorage.getItem('theme')) {\r\n        case 'light':\r\n            bodyRef.classList.add('light-theme');\r\n            nightModeSwitch.checked = true;\r\n            break;\r\n        case 'dark':\r\n            return;\r\n    }\r\n}\r\n\r\nfunction nightModeToggle() {\r\n    if (bodyRef.classList.contains('light-theme')) {\r\n        bodyRef.classList.remove('light-theme');\r\n        localStorage.setItem('theme', 'dark');\r\n        return;\r\n    };\r\n    bodyRef.classList.add('light-theme');\r\n    localStorage.setItem('theme', 'light');\r\n\r\n};\r\n\r\n","/* -------------------------------------------*/\r\n/*  SIDE MENU ITEM OPEN/CLOSE TOGGLE FUNCTION */\r\n/* -------------------------------------------*/\r\n\r\nimport { menuWrapRef } from \"./DOMRefs\";\r\nexport { sideMenuItemOpen };\r\n\r\n function sideMenuItemOpen(event) {\r\n    if (!event.target.classList.contains('menu-cat-button')) return;\r\n    const targetItem = event.target.nextElementSibling.classList;\r\n    if (!targetItem.contains('isOpen')) {\r\n        menuWrapRef.forEach(item => item.classList.remove('isOpen'));\r\n        targetItem.add('isOpen');\r\n    } else targetItem.remove('isOpen');\r\n};","/* ----------------------------------------------------*/\r\n/*  SPECIFIC MODAL WINDOWS OPEN/CLOSE TOGGLE FUNCTIONS */\r\n/* ----------------------------------------------------*/\r\n\r\nimport { modalNavRef, modalAuthRef, modalUploadRef, modalImgWindowRef, modalImgRef } from \"./DOMRefs\";\r\nexport { navToggleHandler, authToggleHandler, uploadToggleHandler, imgToggleHandler };\r\n\r\nfunction navToggleHandler() {\r\n    modalNavRef.classList.toggle(\"modal-hidden\");\r\n};\r\nfunction authToggleHandler() {\r\n    modalAuthRef.classList.toggle(\"modal-hidden\");\r\n};\r\nfunction uploadToggleHandler() {\r\n    modalUploadRef.classList.toggle(\"modal-hidden\");\r\n};\r\nfunction imgToggleHandler(event) {\r\n    if (event === 'close') {\r\n        modalImgWindowRef.classList.toggle(\"modal-hidden\");\r\n        modalImgRef.src = '';\r\n        return;\r\n    };\r\n    const target = event.target;\r\n    if (target.classList.contains('gallery-page-img')) {\r\n        modalImgRef.src = target.dataset.src;\r\n        modalImgRef.dataset.index = target.dataset.index;\r\n        modalImgWindowRef.classList.toggle(\"modal-hidden\");\r\n    };\r\n};","/* ------------------------------------------*/\r\n/*  MODAL WINDOW OPEN/CLOSE TRIGGER HANDLERS */\r\n/* ------------------------------------------*/\r\n\r\nimport { backdropRef } from \"./DOMRefs\";\r\nimport { navToggleHandler, authToggleHandler, imgToggleHandler, uploadToggleHandler } from \"./specific-modal-window-handlers\";\r\nexport { openModal, closeModal }\r\n\r\nfunction openModal(event) {\r\n    const role = event.currentTarget.dataset.modOpenTrigger;\r\n    backdropRef.forEach(backdrop => backdrop.classList.add('modal-hidden'));\r\n    switch (role) {\r\n        case 'nav-open': {\r\n            navToggleHandler();\r\n            break;\r\n        }\r\n        case 'auth-open': {\r\n            authToggleHandler();\r\n            break;\r\n        }\r\n        case 'img-open': {\r\n            imgToggleHandler(event);\r\n            break;\r\n        }\r\n        case 'upload-open': {\r\n            event.preventDefault();\r\n            uploadToggleHandler();\r\n            break;\r\n        }\r\n    }\r\n};\r\n\r\nfunction closeModal(event) {\r\n    const role = event.currentTarget.dataset.modCloseTrigger;\r\n    if (event.target !== event.currentTarget) return;\r\n    switch (role) {\r\n        case 'nav-close': {\r\n            navToggleHandler();\r\n            break;\r\n        }\r\n        case 'auth-close': {\r\n            authToggleHandler();\r\n            break;\r\n        }\r\n        case 'upload-close': {\r\n            uploadToggleHandler();\r\n            break;\r\n        }\r\n        case 'img-close': {\r\n            imgToggleHandler('close');\r\n            break;\r\n        }\r\n    }\r\n};\r\n","/* -------------------------------------------*/\r\n/* --------- MODAL IMAAGE NAVIGATION ---------*/\r\n/* -------------------------------------------*/\r\nimport { imgFetchOptions } from \"./globalVar\";\r\nimport { modalImgRef } from \"./DOMRefs\";\r\nexport { modalImgTriggerHandler };\r\n\r\nfunction modalImgTriggerHandler(event) {\r\n    const direction = event.target.dataset.modalImgNav;\r\n    switch (direction) {\r\n        case 'prev':\r\n            modalImageNav(-1);\r\n            break;\r\n        case 'next':\r\n            modalImageNav(1);\r\n            break;\r\n    }\r\n}\r\n\r\nfunction modalImageNav(indexShift) {\r\n    const currentIndex = Number(modalImgRef.dataset.index);\r\n    const nextIndex = currentIndex + indexShift;\r\n    const currentImgQuantity = imgFetchOptions.currentImgArray.length;\r\n    if (nextIndex < 0 || nextIndex >= currentImgQuantity) return;\r\n    console.log(nextIndex + ' ' + currentImgQuantity);\r\n    modalImgRef.src = `${imgFetchOptions.currentImgArray[nextIndex].largeImageURL}`;\r\n    modalImgRef.dataset.index = nextIndex;\r\n}\r\n","/* -------------------------------------------*/\r\n/* ----- GALLERY MENU OPEN'CLOSE TOGGLE ------*/\r\n/* -------------------------------------------*/\r\n\r\n\r\nimport { galleryMenuRef } from \"./DOMRefs\";\r\nexport { galleryMenuToggle };\r\n\r\nfunction galleryMenuToggle() { galleryMenuRef.classList.toggle('isOpen') };","/* ----------------------------*/\r\n/*  GALLERY RENDERING FUNCTION */\r\n/* ----------------------------*/\r\n\r\nimport { intersectionAnchorGalleryRef, galleryPageRef } from \"./DOMRefs\";\r\nimport { imgFetchOptions } from './globalVar';\r\nexport { galleryImgRender };\r\n\r\nfunction galleryImgRender(imagesObjArray) {\r\n  const imgRenderArray = imagesObjArray.map((el, index) => {\r\n    const imgIndex = index + (imgFetchOptions.currentPage - 1) * imgFetchOptions.imgPerPage;\r\n    return `<div class=\"gallery-page-card-wrap\">\r\n          <div class=\"gallery-page-img-wrap\">\r\n              <img\r\n                class=\"gallery-page-img\"\r\n                src=\"${el.previewURL}\"\r\n                alt=\"image\"\r\n                data-src=\"${el.largeImageURL}\"\r\n                data-index=\"${imgIndex}\"\r\n              />\r\n          </div>\r\n          <div class=\"gallery-page-text\">\r\n            <h2 class=\"gallery-page-header\">${el.user}</h2>\r\n            <p class=\"gallery-page-paragraph\">\r\n              Lorem ipsum dolor sit amet, consectetur adipisicing elit.</br> Index : ${imgIndex}.\r\n            </p>\r\n          </div>\r\n        </div>`;\r\n  });\r\n  galleryPageRef.insertAdjacentHTML('beforeend', imgRenderArray.join(''));\r\n};\r\n","import { galleryImgRender } from './gallery-render';\r\nimport { imgFetchOptions } from './globalVar';\r\nexport { fetchImages };\r\n\r\nfunction fetchImages() {\r\n    const { BASE_URL, API_KEY, query, currentPage, imgPerPage } = imgFetchOptions;\r\n    const requestURL = `${BASE_URL}?key=${API_KEY}&q=${query}&page=${currentPage}&per_page=${imgPerPage}`;\r\n    return fetch(requestURL)\r\n        .then(responce => responce.json())\r\n        .then(responce => {\r\n            galleryImgRender(responce.hits);\r\n            imgFetchOptions.currentPage += 1;\r\n            imgFetchOptions.currentImgArray.push(...responce.hits);\r\n        });\r\n}\r\n","import { galleryWrapRef } from \"./DOMRefs\";\r\nimport { fetchImages } from './fetchImages';\r\nexport { infScrollObserver };\r\n\r\nconst options = {\r\n    root: galleryWrapRef,\r\n    rootMargin: '50px',\r\n    threshold: 0.2,\r\n}\r\n\r\nconst infScrollObserver = new IntersectionObserver((entries) => {\r\n    if (entries[0].isIntersecting) {\r\n        fetchImages();\r\n        console.log('intersection');\r\n    }\r\n}, options);\r\n","\r\nimport \"../sass/main.scss\";\r\nimport debounce from 'lodash.debounce';\r\nimport {inputQueryHandler} from './inputQueryHandler';\r\nimport { nightModeToggle, themeLoadHandler } from \"./night-mode-toggle.js\";\r\nimport { sideMenuItemOpen } from \"./side-menu-item-toggle\";\r\nimport { openModal, closeModal } from \"./basic-modal-windows-handler\";\r\nimport { modalImgTriggerHandler } from \"./modal-image-nav\";\r\nimport { galleryMenuToggle } from \"./gallery-menu-toggle\";\r\nimport { nightModeSwitch, intersectionAnchorGalleryRef, searchInput } from \"./DOMRefs\";\r\nimport { infScrollObserver } from \"./intersection-observer\";\r\n\r\nconst modalOpenTriggersRef = Array.from(document.querySelectorAll(\"[data-mod-open-trigger]\"));\r\nconst modalCloseTriggersRef = Array.from(document.querySelectorAll(\"[data-mod-close-trigger]\"));\r\nconst modalImgNav = document.querySelectorAll('.image-nav-arrow');\r\nconst menuListItem = document.querySelector('.gallery-menu');\r\nconst sideMenuSwitch = document.querySelector('.sideMenu-checkbox');\r\n\r\nwindow.addEventListener('DOMContentLoaded', themeLoadHandler);\r\nnightModeSwitch.addEventListener('change', nightModeToggle);\r\nsideMenuSwitch.addEventListener('change', galleryMenuToggle);\r\nmenuListItem.addEventListener('click', sideMenuItemOpen);\r\nmodalOpenTriggersRef.forEach(item => item.addEventListener(\"click\", openModal));\r\nmodalCloseTriggersRef.forEach(item => item.addEventListener(\"click\", closeModal));\r\nmodalImgNav.forEach(item => item.addEventListener(\"click\", modalImgTriggerHandler));\r\nsearchInput.addEventListener('input', debounce(inputQueryHandler, 1000));\r\n\r\ninfScrollObserver.observe(intersectionAnchorGalleryRef);"]}